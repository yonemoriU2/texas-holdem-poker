# Requirements Document

## Introduction

テキサスホールデムポーカーのWebアプリケーションを開発します。このアプリケーションは、ユーザーが一人でCPU相手にテキサスホールデムポーカーをプレイできるシングルプレイヤーゲームです。React、Vite、TailwindCSSを使用してモダンで直感的なユーザーインターフェースを提供し、本格的なポーカー体験を実現します。

## Requirements

### Requirement 1

**User Story:** プレイヤーとして、テキサスホールデムポーカーの基本的なゲームプレイを体験したいので、標準的なルールに従ってゲームを進行できる機能が必要です。

#### Acceptance Criteria

1. WHEN ゲームが開始される THEN システム SHALL プレイヤーとCPUに2枚ずつのホールカードを配布する
2. WHEN プリフロップラウンドが開始される THEN システム SHALL プレイヤーにフォールド、コール、レイズのアクションオプションを提示する
3. WHEN フロップが表示される THEN システム SHALL 3枚のコミュニティカードをテーブルに表示する
4. WHEN ターンが表示される THEN システム SHALL 4枚目のコミュニティカードをテーブルに表示する
5. WHEN リバーが表示される THEN システム SHALL 5枚目のコミュニティカードをテーブルに表示する
6. WHEN ショーダウンに到達する THEN システム SHALL 最高のハンドを持つプレイヤーを勝者として決定する

### Requirement 2

**User Story:** プレイヤーとして、自分の手札とコミュニティカードから最適なハンドを理解したいので、ハンドランキングシステムが必要です。

#### Acceptance Criteria

1. WHEN プレイヤーのカードが評価される THEN システム SHALL ロイヤルフラッシュ、ストレートフラッシュ、フォーカード、フルハウス、フラッシュ、ストレート、スリーカード、ツーペア、ワンペア、ハイカードの順でハンドを評価する
2. WHEN 複数のプレイヤーが同じハンドタイプを持つ THEN システム SHALL キッカーカードを使用して勝者を決定する
3. WHEN ハンド評価が完了する THEN システム SHALL プレイヤーに現在のハンドランクを表示する

### Requirement 3

**User Story:** プレイヤーとして、ゲーム中にベッティングアクションを行いたいので、直感的なベッティングインターフェースが必要です。

#### Acceptance Criteria

1. WHEN プレイヤーのターンになる THEN システム SHALL フォールド、チェック/コール、ベット/レイズのボタンを表示する
2. WHEN プレイヤーがレイズを選択する THEN システム SHALL ベット額を入力できるスライダーまたは入力フィールドを提供する
3. WHEN プレイヤーがアクションを選択する THEN システム SHALL 選択されたアクションを実行し、ゲーム状態を更新する
4. WHEN ベッティングラウンドが完了する THEN システム SHALL 次のラウンドに進行するか、ショーダウンを開始する

### Requirement 4

**User Story:** プレイヤーとして、CPUとの対戦を楽しみたいので、適切な難易度のAI相手が必要です。

#### Acceptance Criteria

1. WHEN CPUのターンになる THEN システム SHALL ハンドの強さとポットオッズに基づいてアクションを決定する
2. WHEN CPUがベッティングアクションを行う THEN システム SHALL 人間らしい思考時間を模擬するため短い遅延を追加する
3. WHEN CPUがブラフを行う THEN システム SHALL 時々弱いハンドでもベットやレイズを行う
4. WHEN CPUがフォールドする THEN システム SHALL 明らかに弱いハンドや不利な状況で適切にフォールドする

### Requirement 5

**User Story:** プレイヤーとして、ゲームの進行状況を把握したいので、明確で見やすいユーザーインターフェースが必要です。

#### Acceptance Criteria

1. WHEN ゲーム画面が表示される THEN システム SHALL プレイヤーとCPUのチップ数、現在のポット額、ベット額を表示する
2. WHEN カードが配られる THEN システム SHALL カードを美しいアニメーションで表示する
3. WHEN ゲーム状態が変化する THEN システム SHALL 現在のラウンド（プリフロップ、フロップ、ターン、リバー）を明確に表示する
4. WHEN プレイヤーがアクションを待っている THEN システム SHALL どのアクションが可能かを視覚的に強調表示する
5. WHEN ゲームが終了する THEN システム SHALL 勝者と勝利ハンドを明確に表示する

### Requirement 6

**User Story:** プレイヤーとして、継続的にゲームを楽しみたいので、ゲーム終了後に新しいゲームを開始できる機能が必要です。

#### Acceptance Criteria

1. WHEN ハンドが終了する THEN システム SHALL 「新しいハンド」ボタンを表示する
2. WHEN プレイヤーまたはCPUのチップがなくなる THEN システム SHALL ゲーム終了メッセージと「新しいゲーム」ボタンを表示する
3. WHEN 新しいゲームが開始される THEN システム SHALL 両プレイヤーのチップを初期値にリセットする
4. WHEN 新しいハンドが開始される THEN システム SHALL カードをシャッフルし、新しいハンドを配布する